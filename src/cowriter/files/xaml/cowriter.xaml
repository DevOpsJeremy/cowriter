<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        Title="Cowriter" SizeToContent='Manual' 
        FontSize="20"
        WindowState="Maximized">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Menu Grid.Row="0">
      <MenuItem Header="_File">
        <MenuItem Header="New"/>
        <MenuItem Header="Open"/>
        <MenuItem Header="Save"/>
        <Separator/>
        <MenuItem Header="Exit"/>
      </MenuItem>
      <MenuItem Header="_Edit">
        <MenuItem Header="Undo"/>
        <MenuItem Header="Redo"/>
        <Separator/>
        <MenuItem Header="Cut"/>
        <MenuItem Header="Copy"/>
        <MenuItem Header="Paste"/>
      </MenuItem>
      <MenuItem Header="_View">
        <MenuItem Header="Zoom In"/>
        <MenuItem Header="Zoom Out"/>
      </MenuItem>
    </Menu>

    <Grid Margin="12" Grid.Row="1">
      <!-- Define three columns -->
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition MaxWidth="500"/>
      </Grid.ColumnDefinitions>

      <Grid Grid.Column="0" Margin="8,0,8,0">
        <Grid.RowDefinitions>
          <RowDefinition Height="40"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="0"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Formatting Toolbar -->
        <ToolBar Grid.Column="1" Margin="0,0,0,8">
          <Button FontFamily="Times New Roman" Width="30" Name="BoldButton" ToolTip="Bold"><TextBlock FontWeight="Bold">B</TextBlock></Button>
          <Button FontFamily="Times New Roman" Width="30" Name="ItalicButton" ToolTip="Italic"><TextBlock FontStyle="Italic">I</TextBlock></Button>
          <Button Width="30" Name="UnderlineButton" ToolTip="Underline"><TextBlock TextDecorations="Underline">U</TextBlock></Button>
          <Separator/>
          <Button Width="30" Name="BulletButton" ToolTip="Bulleted List" Visibility="Hidden">• —</Button>
          <Button Width="30" Name="NumberButton" ToolTip="Numbered List" Visibility="Hidden">1.</Button>
        </ToolBar>
        <!-- Center: Large scrollable TextBox with line numbers -->
          <!-- Line numbers -->
          <TextBlock Name="LineNumbers" Grid.Column="0" Grid.Row="1" Margin="0,0,2,0" VerticalAlignment="Top" TextAlignment="Right"/>
          
          <!-- Main TextBox -->
          <ScrollViewer Grid.Column="1" Grid.Row="1" VerticalScrollBarVisibility="Auto" MinHeight="500">
            <RichTextBox Name="MainText" AcceptsReturn="True"  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"/>
          </ScrollViewer>
      </Grid>

      <!-- Right: Chat area -->
      <Grid Grid.Column="1">
        <Grid.RowDefinitions>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <!-- (Optional) Chat history area could go here in Row 0 -->
        <!-- Chat history area (scrollable) -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Name="ChatScroll">
          <StackPanel Name="ChatHistory" Margin="0,0,0,8"/>
        </ScrollViewer>
        <!-- Chat input and send button at the bottom -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Stretch">
          <TextBox Name="ChatInput" HorizontalAlignment="Stretch" Width="405" Height="30" Margin="5,0,5,0" ToolTip="Ask a question"/>
          <Button Name="SendButton" Content="Send" Width="80" Height="30"/>
        </StackPanel>
      </Grid>
    </Grid>
  </Grid>
</Window>
